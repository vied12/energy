<html>

<head>
    <meta charset="utf-8">

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
     <!--[if lte IE 8]>
         <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.ie.css" />
     <![endif]-->
     <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
</head>
<style>
body { margin: 0;}
.label {
    color:white;
    font-size: 4em;
    text-shadow: 0.1em 1px #333;
    white-space: nowrap;
}
.label:hover {
    color: yellow;
}
</style>
<body>
    <div id="map" style="width: 100%; height: 100%"></div>
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

    <script>
        var map = L.map('map', {
            // maxBounds: [[-84.12497319391093, -210.234375], [84.08887757413991, 210.58593749999997]]
        }).setView([0, 0], 2)
            .on('zoomend', function(zoom) {
                console.log(zoom, map.getBounds());
                // marker.setOpacity((zoom.target.getZoom() === 2) ? 1 : 0);
            });

        L.tileLayer('tiles/{z}/{x}/{y}.png', {
            minZoom: 0,
            maxZoom: 6,
            crs: L.CRS.Simple,
            attribution: 'ESO/INAF-VST/OmegaCAM',
            continuousWorld: false,
            noWrap: true,
            tms: true
        }).addTo(map);

        var marker = L.marker([23.9422719152186, -47.8125], {
            draggable:'true',
            icon: L.divIcon({
                className: 'label',
                html: '<a href="http://google.fr">Title link</a>',
                // iconSize: [100, 40]
            })
        }).addTo(map)
            .on('dragstart', function(e) {
            })
            .on('dragend', function(e) {
                console.log('dragend');

            })
            .on('click', function(e) {
            });

        function computeSizeFromZoom() {
            var max = map.getMaxZoom(),
                zoom = map.getZoom(),
                diff = max - zoom,
                table = [2, 1, 0.5];
            return  (diff < table.length) ? table[diff] : 0.5;
        }

        $('a').on('click', function(e){e.preventDefault()});

        // // Add a new line to the map with no points.
        // var polyline = L.polyline([]).addTo(map);

        // // Keep a tally of how many points we've added to the map.
        // var pointsAdded = 0;

        // // Start drawing the polyline.
        // add();

        // function add() {

        //     // `addLatLng` takes a new latLng coordinate and puts it at the end of the
        //     // line. You optionally pull points from your data or generate them. Here
        //     // we make a sine wave with some math.
        //     polyline.addLatLng(
        //         L.latLng(
        //             Math.cos(pointsAdded / 20) * 30,
        //             pointsAdded));

        //     // Pan the map along with where the line is being added.
        //     map.setView([0, pointsAdded], 3);

        //     // Continue to draw and pan the map by calling `add()`
        //     // until `pointsAdded` reaches 360.
        //     if (++pointsAdded < 360) window.setTimeout(add, 100);
        // }

    </script>
</body>
</html>